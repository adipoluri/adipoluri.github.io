<!doctype html><html lang=en dir=auto><head><link type=text/css rel=stylesheet href=/assets/css/background.css><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Tags | Adi Poluri</title><meta name=keywords content><meta name=description content="ExampleSite description"><meta name=author content="Adi Poluri"><link rel=canonical href=https://adipoluri.tech/tags/><link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style><link rel=preload href=/apple-touch-icon.png as=image><link rel=icon href=https://adipoluri.tech/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://adipoluri.tech/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://adipoluri.tech/favicon-32x32.png><link rel=apple-touch-icon href=https://adipoluri.tech/apple-touch-icon.png><link rel=mask-icon href=https://adipoluri.tech/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.101.0"><link rel=alternate type=application/rss+xml href=https://adipoluri.tech/tags/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-173002284-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="Tags"><meta property="og:description" content="ExampleSite description"><meta property="og:type" content="website"><meta property="og:url" content="https://adipoluri.tech/tags/"><meta property="og:image" content="https://adipoluri.tech/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://adipoluri.tech/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Tags"><meta name=twitter:description content="ExampleSite description"></head><body class=list id=top><div><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://adipoluri.tech/ accesskey=h title="Home (Alt + H)"><img src=https://adipoluri.tech/apple-touch-icon.png alt=logo aria-label=logo height=35>Home</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://adipoluri.tech/posts/ title=Blog><span>Blog</span></a></li><li><a href=https://adipoluri.tech/tags/ title=Tags><span class=active>Tags</span></a></li><li><a href=https://adipoluri.tech/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://adipoluri.tech/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Tags</h1></header><ul class=terms-tags><li><a href=https://adipoluri.tech/tags/testing/>testing <sup><strong><sup>2</sup></strong></sup></a></li></ul></main><footer class=footer><span><a href=https://adipoluri.tech/>Adi Poluri</a> &copy; 2022</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://threejs.org/ rel=noopener target=_blank>Three.js</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></div><div><canvas></canvas>
<script async src=https://unpkg.com/es-module-shims@1.3.6/dist/es-module-shims.js></script>
<script type=importmap>
                {
                    "imports": {
                        "three": "/assets/js/three/build/three.module.js"
                    }
                }
            </script><script type=module>

                import * as THREE from 'three';

                import { GPUComputationRenderer } from '/assets/js/three/misc/GPUComputationRenderer.js';

                 
                const WIDTH = 12;

                const BIRDS = WIDTH * WIDTH;
        
                const fragmentShaderPosition = 'uniform float time; uniform float delta; void main() { vec2 uv = gl_FragCoord.xy / resolution.xy; vec4 tmpPos = texture2D( texturePosition, uv ); vec3 position = tmpPos.xyz; vec3 velocity = texture2D( textureVelocity, uv ).xyz; float phase = tmpPos.w; phase = mod( ( phase + delta + length( velocity.xz ) * delta * 3. + max( velocity.y, 0.0 ) * delta * 6. ), 62.83 ); gl_FragColor = vec4( position + velocity * delta * 15. , phase ); }';
                const fragmentShaderVelocity = 'uniform float time; uniform float testing; uniform float delta; uniform float separationDistance; uniform float alignmentDistance; uniform float cohesionDistance; uniform float freedomFactor; uniform vec3 predator; const float width = resolution.x; const float height = resolution.y; const float PI = 3.141592653589793; const float PI_2 = PI * 2.0; float zoneRadius = 40.0; float zoneRadiusSquared = 1600.0; float separationThresh = 0.45; float alignmentThresh = 0.65; const float UPPER_BOUNDS = BOUNDS; const float LOWER_BOUNDS = -UPPER_BOUNDS; const float SPEED_LIMIT = 9.0; float rand( vec2 co ){ return fract( sin( dot( co.xy, vec2(12.9898,78.233) ) ) * 43758.5453 ); } void main() { zoneRadius = separationDistance + alignmentDistance + cohesionDistance; separationThresh = separationDistance / zoneRadius; alignmentThresh = ( separationDistance + alignmentDistance ) / zoneRadius; zoneRadiusSquared = zoneRadius * zoneRadius; vec2 uv = gl_FragCoord.xy / resolution.xy; vec3 birdPosition, birdVelocity; vec3 selfPosition = texture2D( texturePosition, uv ).xyz; vec3 selfVelocity = texture2D( textureVelocity, uv ).xyz; float dist; vec3 dir; float distSquared; float separationSquared = separationDistance * separationDistance; float cohesionSquared = cohesionDistance * cohesionDistance; float f; float percent; vec3 velocity = selfVelocity; float limit = SPEED_LIMIT; dir = predator * UPPER_BOUNDS - selfPosition; dir.z = 0.; dist = length( dir ); distSquared = dist * dist; float preyRadius = 150.0; float preyRadiusSq = preyRadius * preyRadius; if ( dist < preyRadius ) { f = ( distSquared / preyRadiusSq - 1.0 ) * delta * 100.; velocity += normalize( dir ) * f; limit += 5.0; } vec3 central = vec3( 0., 0., 0. ); dir = selfPosition - central; dist = length( dir ); dir.y *= 2.5; velocity -= normalize( dir ) * delta * 5.; for ( float y = 0.0; y < height; y++ ) { for ( float x = 0.0; x < width; x++ ) { vec2 ref = vec2( x + 0.5, y + 0.5 ) / resolution.xy; birdPosition = texture2D( texturePosition, ref ).xyz; dir = birdPosition - selfPosition; dist = length( dir ); if ( dist < 0.0001 ) continue; distSquared = dist * dist; if ( distSquared > zoneRadiusSquared ) continue; percent = distSquared / zoneRadiusSquared; if ( percent < separationThresh ) { f = ( separationThresh / percent - 1.0 ) * delta; velocity -= normalize( dir ) * f; } else if ( percent < alignmentThresh ) { float threshDelta = alignmentThresh - separationThresh; float adjustedPercent = ( percent - separationThresh ) / threshDelta; birdVelocity = texture2D( textureVelocity, ref ).xyz; f = ( 0.5 - cos( adjustedPercent * PI_2 ) * 0.5 + 0.5 ) * delta; velocity += normalize( birdVelocity ) * f; } else { float threshDelta = 1.0 - alignmentThresh; float adjustedPercent; if( threshDelta == 0. ) adjustedPercent = 1.; else adjustedPercent = ( percent - alignmentThresh ) / threshDelta; f = ( 0.5 - ( cos( adjustedPercent * PI_2 ) * -0.5 + 0.5 ) ) * delta; velocity += normalize( dir ) * f; } } } if ( length( velocity ) > limit ) { velocity = normalize( velocity ) * limit; } gl_FragColor = vec4( velocity, 1.0 ); }';
                const birdVS = 'attribute vec2 reference; attribute float birdVertex; attribute vec3 birdColor; uniform sampler2D texturePosition; uniform sampler2D textureVelocity; varying vec4 vColor; varying float z; uniform float time; void main() { vec4 tmpPos = texture2D( texturePosition, reference ); vec3 pos = tmpPos.xyz; vec3 velocity = normalize(texture2D( textureVelocity, reference ).xyz); vec3 newPosition = position; if ( birdVertex == 4.0 || birdVertex == 7.0 ) { newPosition.y = sin( tmpPos.w ) * 5.; } newPosition = mat3( modelMatrix ) * newPosition; velocity.z *= -1.; float xz = length( velocity.xz ); float xyz = 1.; float x = sqrt( 1. - velocity.y * velocity.y ); float cosry = velocity.x / xz; float sinry = velocity.z / xz; float cosrz = x / xyz; float sinrz = velocity.y / xyz; mat3 maty = mat3( cosry, 0, -sinry, 0 , 1, 0 , sinry, 0, cosry ); mat3 matz = mat3( cosrz , sinrz, 0, -sinrz, cosrz, 0, 0 , 0 , 1 ); newPosition = maty * matz * newPosition; newPosition += pos; z = newPosition.z; vColor = vec4( birdColor, 1.0 ); gl_Position = projectionMatrix * viewMatrix * vec4( newPosition, 1.0 ); }';
                const birdFS = 'varying vec4 vColor; varying float z; uniform vec3 color; void main() { float z2 = 0.2 + ( 1000. - z ) / 1000. * vColor.x; gl_FragColor = vec4( z2, z2, z2, 1. ); }';
                
                
                
                class BirdGeometry extends THREE.BufferGeometry {

                    constructor() {

                        super();

                        const trianglesPerBird = 3;
                        const triangles = BIRDS * trianglesPerBird;
                        const points = triangles * 3;

                        const vertices = new THREE.BufferAttribute( new Float32Array( points * 3 ), 3 );
                        const birdColors = new THREE.BufferAttribute( new Float32Array( points * 3 ), 3 );
                        const references = new THREE.BufferAttribute( new Float32Array( points * 2 ), 2 );
                        const birdVertex = new THREE.BufferAttribute( new Float32Array( points ), 1 );

                        this.setAttribute( 'position', vertices );
                        this.setAttribute( 'birdColor', birdColors );
                        this.setAttribute( 'reference', references );
                        this.setAttribute( 'birdVertex', birdVertex );

                        


                        let v = 0;

                        function verts_push() {

                            for ( let i = 0; i < arguments.length; i ++ ) {

                                vertices.array[ v ++ ] = arguments[ i ];

                            }

                        }

                        const wingsSpan = 20;

                        for ( let f = 0; f < BIRDS; f ++ ) {

                            

                            verts_push(
                                0, - 0, - 20,
                                0, 4, - 20,
                                0, 0, 30
                            );

                            

                            verts_push(
                                0, 0, - 15,
                                - wingsSpan, 0, 0,
                                0, 0, 15
                            );

                            verts_push(
                                0, 0, 15,
                                wingsSpan, 0, 0,
                                0, 0, - 15
                            );

                        }

                        for ( let v = 0; v < triangles * 3; v ++ ) {

                            const triangleIndex = ~ ~ ( v / 3 );
                            const birdIndex = ~ ~ ( triangleIndex / trianglesPerBird );
                            const x = ( birdIndex % WIDTH ) / WIDTH;
                            const y = ~ ~ ( birdIndex / WIDTH ) / WIDTH;

                            const c = new THREE.Color(
                                0x000000 +
                                ~ ~ ( v / 9 ) / BIRDS * 0x666666
                            );

                            birdColors.array[ v * 3 + 0 ] = c.r;
                            birdColors.array[ v * 3 + 1 ] = c.g;
                            birdColors.array[ v * 3 + 2 ] = c.b;

                            references.array[ v * 2 ] = x;
                            references.array[ v * 2 + 1 ] = y;

                            birdVertex.array[ v ] = v % 9;

                        }

                        this.scale( 0.2, 0.2, 0.2 );

                    }

                }

                

                let container;
                let camera, scene, renderer;
                let mouseX = 0, mouseY = 0;

                let windowHalfX = window.innerWidth / 2;
                let windowHalfY = window.innerHeight / 2;

                const BOUNDS = 800, BOUNDS_HALF = BOUNDS / 2;

                let last = performance.now();

                let gpuCompute;
                let velocityVariable;
                let positionVariable;
                let positionUniforms;
                let velocityUniforms;
                let birdUniforms;

                init();
                animate();

                function init() {

                    container = document.createElement( 'div' );
                    document.body.appendChild( container );

                    camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 1, 3000 );
                    camera.position.z = 350;

                    scene = new THREE.Scene();
                    scene.background = new THREE.Color( 0x1A1A1D );
                    scene.fog = new THREE.Fog( 0xffffff, 100, 1000 );

                    var canvas = document.querySelector("canvas");
                    renderer = new THREE.WebGLRenderer({canvas: canvas});
                    renderer.setPixelRatio( window.devicePixelRatio );
                    renderer.setSize( window.innerWidth, window.innerHeight );
                    container.appendChild( renderer.domElement );

                    initComputeRenderer();

                    container.style.touchAction = 'none';
                    container.addEventListener( 'pointermove', onPointerMove );

                    

                    window.addEventListener( 'resize', onWindowResize );


                    const effectController = {
                        separation: 15.0,
                        alignment: 20.0,
                        cohesion: 25.0,
                        freedom: 0.75
                    };

                    const valuesChanger = function () {

                        velocityUniforms[ 'separationDistance' ].value = effectController.separation;
                        velocityUniforms[ 'alignmentDistance' ].value = effectController.alignment;
                        velocityUniforms[ 'cohesionDistance' ].value = effectController.cohesion;
                        velocityUniforms[ 'freedomFactor' ].value = effectController.freedom;

                    };

                    valuesChanger();

                    initBirds();

                }

                function initComputeRenderer() {

                    gpuCompute = new GPUComputationRenderer( WIDTH, WIDTH, renderer );

                    if ( renderer.capabilities.isWebGL2 === false ) {

                        gpuCompute.setDataType( THREE.HalfFloatType );

                    }

                    const dtPosition = gpuCompute.createTexture();
                    const dtVelocity = gpuCompute.createTexture();
                    fillPositionTexture( dtPosition );
                    fillVelocityTexture( dtVelocity );

                    velocityVariable = gpuCompute.addVariable( 'textureVelocity', fragmentShaderVelocity, dtVelocity );
                    positionVariable = gpuCompute.addVariable( 'texturePosition', fragmentShaderPosition, dtPosition );

                    gpuCompute.setVariableDependencies( velocityVariable, [ positionVariable, velocityVariable ] );
                    gpuCompute.setVariableDependencies( positionVariable, [ positionVariable, velocityVariable ] );

                    positionUniforms = positionVariable.material.uniforms;
                    velocityUniforms = velocityVariable.material.uniforms;

                    positionUniforms[ 'time' ] = { value: 0.0 };
                    positionUniforms[ 'delta' ] = { value: 0.0 };
                    velocityUniforms[ 'time' ] = { value: 1.0 };
                    velocityUniforms[ 'delta' ] = { value: 0.0 };
                    velocityUniforms[ 'testing' ] = { value: 1.0 };
                    velocityUniforms[ 'separationDistance' ] = { value: 1.0 };
                    velocityUniforms[ 'alignmentDistance' ] = { value: 1.0 };
                    velocityUniforms[ 'cohesionDistance' ] = { value: 1.0 };
                    velocityUniforms[ 'freedomFactor' ] = { value: 1.0 };
                    velocityUniforms[ 'predator' ] = { value: new THREE.Vector3() };
                    velocityVariable.material.defines.BOUNDS = BOUNDS.toFixed( 2 );

                    velocityVariable.wrapS = THREE.RepeatWrapping;
                    velocityVariable.wrapT = THREE.RepeatWrapping;
                    positionVariable.wrapS = THREE.RepeatWrapping;
                    positionVariable.wrapT = THREE.RepeatWrapping;

                    const error = gpuCompute.init();

                    if ( error !== null ) {

                        console.error( error );

                    }

                }

                function initBirds() {

                    const geometry = new BirdGeometry();

                    
                    birdUniforms = {
                        'color': { value: new THREE.Color( 0xff2200 ) },
                        'texturePosition': { value: null },
                        'textureVelocity': { value: null },
                        'time': { value: 1.0 },
                        'delta': { value: 0.0 }
                    };

                    
                    const material = new THREE.ShaderMaterial( {
                        uniforms: birdUniforms,
                        vertexShader: birdVS,
                        fragmentShader: birdFS,
                        side: THREE.DoubleSide

                    } );

                    const birdMesh = new THREE.Mesh( geometry, material );
                    birdMesh.rotation.y = Math.PI / 2;
                    birdMesh.matrixAutoUpdate = false;
                    birdMesh.updateMatrix();

                    scene.add( birdMesh );

                }

                function fillPositionTexture( texture ) {

                    const theArray = texture.image.data;

                    for ( let k = 0, kl = theArray.length; k < kl; k += 4 ) {

                        const x = Math.random() * BOUNDS - BOUNDS_HALF;
                        const y = Math.random() * BOUNDS - BOUNDS_HALF;
                        const z = Math.random() * BOUNDS - BOUNDS_HALF;

                        theArray[ k + 0 ] = x;
                        theArray[ k + 1 ] = y;
                        theArray[ k + 2 ] = z;
                        theArray[ k + 3 ] = 1;

                    }

                }

                function fillVelocityTexture( texture ) {

                    const theArray = texture.image.data;

                    for ( let k = 0, kl = theArray.length; k < kl; k += 4 ) {

                        const x = Math.random() - 0.5;
                        const y = Math.random() - 0.5;
                        const z = Math.random() - 0.5;

                        theArray[ k + 0 ] = x * 10;
                        theArray[ k + 1 ] = y * 10;
                        theArray[ k + 2 ] = z * 10;
                        theArray[ k + 3 ] = 1;

                    }

                }

                function onWindowResize() {

                    windowHalfX = window.innerWidth / 2;
                    windowHalfY = window.innerHeight / 2;

                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();

                    renderer.setSize( window.innerWidth, window.innerHeight );

                }

                function onPointerMove( event ) {

                    if ( event.isPrimary === false ) return;

                    mouseX = event.clientX - windowHalfX;
                    mouseY = event.clientY - windowHalfY;

                }

                

                function animate() {

                    requestAnimationFrame( animate );

                    render();
                }

                function render() {

                    const now = performance.now();
                    let delta = ( now - last ) / 1000;

                    if ( delta > 1 ) delta = 1; 
                    last = now;

                    positionUniforms[ 'time' ].value = now;
                    positionUniforms[ 'delta' ].value = delta;
                    velocityUniforms[ 'time' ].value = now;
                    velocityUniforms[ 'delta' ].value = delta;
                    birdUniforms[ 'time' ].value = now;
                    birdUniforms[ 'delta' ].value = delta;

                    velocityUniforms[ 'predator' ].value.set( 0.5 * mouseX / windowHalfX, - 0.5 * mouseY / windowHalfY, 0 );

                    mouseX = 10000;
                    mouseY = 10000;

                    gpuCompute.compute();

                    birdUniforms[ 'texturePosition' ].value = gpuCompute.getCurrentRenderTarget( positionVariable ).texture;
                    birdUniforms[ 'textureVelocity' ].value = gpuCompute.getCurrentRenderTarget( velocityVariable ).texture;

                    renderer.render( scene, camera );

                }

            </script></div></body></html>